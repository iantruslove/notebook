;; gorilla-repl.fileformat = 1

;; **
;;; # Gorilla REPL
;;; 
;;; Welcome to gorilla :-)
;;; 
;;; Shift + enter evaluates code. Hit ctrl+g twice in quick succession or click the menu icon (upper-right corner) for more commands ...
;;; 
;;; It's a good habit to run each worksheet in its own namespace: feel free to use the declaration we've provided below if you'd like.
;; **

;; @@
(ns gorilla-worksheets.trending
  (:require [gorilla-plot.core :as plot]))

(defn d
  "Discrete derivative of the collection"
  [vals]
  (map - vals (cons 0 vals)))

(defn scale [factor n]
  (/ n factor))

(defn average [vals]
  (/ (reduce + vals) (count vals)))

(defn smooth-trailing-three [vals]
  (conj
   (map (fn [triple]
          (/ (reduce + triple) 3))
        (partition 3 1 vals))
   nil nil))

(defn decay-trailing-n
  ([vals n]
   (decay-trailing-n vals n 0.5))
  ([vals n factor]
   (apply conj
          (map (fn [triple]
                 (reduce (fn [acc val] (+ val (* factor acc))) triple))
               (partition n 1 vals))
          (repeat n nil))))

;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;gorilla-worksheets.trending/decay-trailing-n</span>","value":"#'gorilla-worksheets.trending/decay-trailing-n"}
;; <=

;; @@
(def values [5 7 6 7 4 7 6 5 6 10 5 8 3 6 5 4 7 5 5 7 10
             12 13 17 26 28 39 43 41 42 36 32 26 20 19 20
             15 14 12 9 5 2 8 7 5 6 7 4 2 1 0 3 0 0 2 1
             0 0 2 1 2 0 2 3 6 4 7 8 5 6 6 7 7 10 8 3])

(def normalized-values (map
                        #(->> %
                              (scale (average values))
                              inc
                              Math/log)
                        values))

(def normalized-values-plot (plot/list-plot
                             normalized-values
                             :joined true))

(def deltas (d normalized-values))

;; TODO: smooth the deltas

;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;gorilla-worksheets.trending/deltas</span>","value":"#'gorilla-worksheets.trending/deltas"}
;; <=

;; @@

"Normalized Log Values:" normalized-values-plot

;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"305fe7ae-0af6-467f-ae4e-c752f0858bc8","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"305fe7ae-0af6-467f-ae4e-c752f0858bc8","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"305fe7ae-0af6-467f-ae4e-c752f0858bc8"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"305fe7ae-0af6-467f-ae4e-c752f0858bc8","values":[{"x":0,"y":0.4181349608492159},{"x":1,"y":0.5462560607454912},{"x":2,"y":0.48424598596127855},{"x":3,"y":0.5462560607454912},{"x":4,"y":0.3473419088581165},{"x":5,"y":0.5462560607454912},{"x":6,"y":0.48424598596127855},{"x":7,"y":0.4181349608492159},{"x":8,"y":0.48424598596127855},{"x":9,"y":0.7120922668023947},{"x":10,"y":0.4181349608492159},{"x":11,"y":0.6046443789836455},{"x":12,"y":0.27115277050057063},{"x":13,"y":0.48424598596127855},{"x":14,"y":0.4181349608492159},{"x":15,"y":0.3473419088581165},{"x":16,"y":0.5462560607454912},{"x":17,"y":0.4181349608492159},{"x":18,"y":0.4181349608492159},{"x":19,"y":0.5462560607454912},{"x":20,"y":0.7120922668023947},{"x":21,"y":0.8091070616548135},{"x":22,"y":0.8542990558461871},{"x":23,"y":1.0170505164460448},{"x":24,"y":1.308185120070854},{"x":25,"y":1.3627963898525868},{"x":26,"y":1.6192259188002631},{"x":27,"y":1.6982691261407161},{"x":28,"y":1.6595282978242856},{"x":29,"y":1.679086306723942},{"x":30,"y":1.5555528239391208},{"x":31,"y":1.4638118149262327},{"x":32,"y":1.308185120070854},{"x":33,"y":1.1237934752982692},{"x":34,"y":1.0894630940145216},{"x":35,"y":1.1237934752982692},{"x":36,"y":0.9389821430762259},{"x":37,"y":0.8975367349008333},{"x":38,"y":0.8091070616548135},{"x":39,"y":0.6598107602923537},{"x":40,"y":0.4181349608492159},{"x":41,"y":0.18867654867633207},{"x":42,"y":0.6046443789836455},{"x":43,"y":0.5462560607454912},{"x":44,"y":0.4181349608492159},{"x":45,"y":0.48424598596127855},{"x":46,"y":0.5462560607454912},{"x":47,"y":0.3473419088581165},{"x":48,"y":0.18867654867633207},{"x":49,"y":0.09878154455978393},{"x":50,"y":0.0},{"x":51,"y":0.27115277050057063},{"x":52,"y":0.0},{"x":53,"y":0.0},{"x":54,"y":0.18867654867633207},{"x":55,"y":0.09878154455978393},{"x":56,"y":0.0},{"x":57,"y":0.0},{"x":58,"y":0.18867654867633207},{"x":59,"y":0.09878154455978393},{"x":60,"y":0.18867654867633207},{"x":61,"y":0.0},{"x":62,"y":0.18867654867633207},{"x":63,"y":0.27115277050057063},{"x":64,"y":0.48424598596127855},{"x":65,"y":0.3473419088581165},{"x":66,"y":0.5462560607454912},{"x":67,"y":0.6046443789836455},{"x":68,"y":0.4181349608492159},{"x":69,"y":0.48424598596127855},{"x":70,"y":0.48424598596127855},{"x":71,"y":0.5462560607454912},{"x":72,"y":0.5462560607454912},{"x":73,"y":0.7120922668023947},{"x":74,"y":0.6046443789836455},{"x":75,"y":0.27115277050057063}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"305fe7ae-0af6-467f-ae4e-c752f0858bc8\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"305fe7ae-0af6-467f-ae4e-c752f0858bc8\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"305fe7ae-0af6-467f-ae4e-c752f0858bc8\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"305fe7ae-0af6-467f-ae4e-c752f0858bc8\", :values ({:x 0, :y 0.4181349608492159} {:x 1, :y 0.5462560607454912} {:x 2, :y 0.48424598596127855} {:x 3, :y 0.5462560607454912} {:x 4, :y 0.3473419088581165} {:x 5, :y 0.5462560607454912} {:x 6, :y 0.48424598596127855} {:x 7, :y 0.4181349608492159} {:x 8, :y 0.48424598596127855} {:x 9, :y 0.7120922668023947} {:x 10, :y 0.4181349608492159} {:x 11, :y 0.6046443789836455} {:x 12, :y 0.27115277050057063} {:x 13, :y 0.48424598596127855} {:x 14, :y 0.4181349608492159} {:x 15, :y 0.3473419088581165} {:x 16, :y 0.5462560607454912} {:x 17, :y 0.4181349608492159} {:x 18, :y 0.4181349608492159} {:x 19, :y 0.5462560607454912} {:x 20, :y 0.7120922668023947} {:x 21, :y 0.8091070616548135} {:x 22, :y 0.8542990558461871} {:x 23, :y 1.0170505164460448} {:x 24, :y 1.308185120070854} {:x 25, :y 1.3627963898525868} {:x 26, :y 1.6192259188002631} {:x 27, :y 1.6982691261407161} {:x 28, :y 1.6595282978242856} {:x 29, :y 1.679086306723942} {:x 30, :y 1.5555528239391208} {:x 31, :y 1.4638118149262327} {:x 32, :y 1.308185120070854} {:x 33, :y 1.1237934752982692} {:x 34, :y 1.0894630940145216} {:x 35, :y 1.1237934752982692} {:x 36, :y 0.9389821430762259} {:x 37, :y 0.8975367349008333} {:x 38, :y 0.8091070616548135} {:x 39, :y 0.6598107602923537} {:x 40, :y 0.4181349608492159} {:x 41, :y 0.18867654867633207} {:x 42, :y 0.6046443789836455} {:x 43, :y 0.5462560607454912} {:x 44, :y 0.4181349608492159} {:x 45, :y 0.48424598596127855} {:x 46, :y 0.5462560607454912} {:x 47, :y 0.3473419088581165} {:x 48, :y 0.18867654867633207} {:x 49, :y 0.09878154455978393} {:x 50, :y 0.0} {:x 51, :y 0.27115277050057063} {:x 52, :y 0.0} {:x 53, :y 0.0} {:x 54, :y 0.18867654867633207} {:x 55, :y 0.09878154455978393} {:x 56, :y 0.0} {:x 57, :y 0.0} {:x 58, :y 0.18867654867633207} {:x 59, :y 0.09878154455978393} {:x 60, :y 0.18867654867633207} {:x 61, :y 0.0} {:x 62, :y 0.18867654867633207} {:x 63, :y 0.27115277050057063} {:x 64, :y 0.48424598596127855} {:x 65, :y 0.3473419088581165} {:x 66, :y 0.5462560607454912} {:x 67, :y 0.6046443789836455} {:x 68, :y 0.4181349608492159} {:x 69, :y 0.48424598596127855} {:x 70, :y 0.48424598596127855} {:x 71, :y 0.5462560607454912} {:x 72, :y 0.5462560607454912} {:x 73, :y 0.7120922668023947} {:x 74, :y 0.6046443789836455} {:x 75, :y 0.27115277050057063})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; @@
(defn only-abs-above* [threshold val]
  (when (not (nil? val))
    (when (> (Math/abs val) threshold)
      val)))

(defn only-abs-above [vals threshold]
  (map (partial only-abs-above* threshold) vals))

(def trend-vals (decay-trailing-n deltas 8 0.8))

"Trend:" (plot/compose
           (plot/list-plot trend-vals
                           :joined true :color :blue)
           (plot/list-plot (only-abs-above trend-vals 0.3)
                           :joined false :color :red)
           (plot/list-plot deltas
                           :joined true :color :orange
                           :opacity 0.5))
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"ebae1f76-bb95-4346-b5b4-260a6cf2ee32","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"ebae1f76-bb95-4346-b5b4-260a6cf2ee32","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"ebae1f76-bb95-4346-b5b4-260a6cf2ee32","values":[{"x":0,"y":null},{"x":1,"y":null},{"x":2,"y":null},{"x":3,"y":null},{"x":4,"y":null},{"x":5,"y":null},{"x":6,"y":null},{"x":7,"y":null},{"x":8,"y":0.036097226381168634},{"x":9,"y":0.02483740066380912},{"x":10,"y":0.22622104770098955},{"x":11,"y":-0.10257690360407823},{"x":12,"y":0.09404433106285814},{"x":13,"y":-0.22488388671607545},{"x":14,"y":-1.8615082886538903E-4},{"x":15,"y":-0.05585638158684604},{"x":16,"y":-0.10438656777771127},{"x":17,"y":0.10431330818234064},{"x":18,"y":-0.0828967160350834},{"x":19,"y":-0.01699952066052104},{"x":20,"y":0.08323039542710195},{"x":21,"y":0.28837112989566493},{"x":22,"y":0.29196058972976235},{"x":23,"y":0.2898520554580486},{"x":24,"y":0.4065102082118356},{"x":25,"y":0.5829705132775649},{"x":26,"y":0.5424828340749585},{"x":27,"y":0.6904157962076432},{"x":28,"y":0.6098806906353936},{"x":29,"y":0.4213410256955127},{"x":30,"y":0.3403544477717194},{"x":31,"y":0.14116811695235998},{"x":32,"y":-0.006111679538993095},{"x":33,"y":-0.20936031978745118},{"x":34,"y":-0.36104215129416983},{"x":35,"y":-0.3661858382784178},{"x":36,"y":-0.2718795389678222},{"x":37,"y":-0.3958153309494645},{"x":38,"y":-0.36137896233335876},{"x":39,"y":-0.3568073638735745},{"x":40,"y":-0.41935060521864764},{"x":41,"y":-0.5510464568685083},{"x":42,"y":-0.6393597931382412},{"x":43,"y":-0.0897603219816816},{"x":44,"y":-0.1359562580450976},{"x":45,"y":-0.2058799099329835},{"x":46,"y":-0.09163951718265692},{"x":47,"y":0.0035344983266660523},{"x":48,"y":-0.17103879026645097},{"x":49,"y":-0.2549499215026432},{"x":50,"y":-0.2553582078782477},{"x":51,"y":-0.37285593224355357},{"x":52,"y":-0.017336041024689663},{"x":53,"y":-0.2635264496491485},{"x":54,"y":-0.22191274920218373},{"x":55,"y":7.427851262761243E-4},{"x":56,"y":-0.05592851909881429},{"x":57,"y":-0.11690472964395938},{"x":58,"y":-0.07844190470132534},{"x":59,"y":0.142495818014203},{"x":60,"y":-0.021390235702050772},{"x":61,"y":0.11827470155177258},{"x":62,"y":-0.094056787434914},{"x":63,"y":0.08177644661562747},{"x":64,"y":0.16297925813058273},{"x":65,"y":0.3600494150641053},{"x":66,"y":0.1511354549481222},{"x":67,"y":0.28816784373309906},{"x":68,"y":0.3040044722384758},{"x":69,"y":0.04161228064250891},{"x":70,"y":0.1310555217388431},{"x":71,"y":0.0731897452783011},{"x":72,"y":0.10672465712276186},{"x":73,"y":0.0496286166590211},{"x":74,"y":0.22850779211252448},{"x":75,"y":0.04198608895455749},{"x":76,"y":-0.3096986715890115}]},{"name":"36c89f8c-98b1-4807-8782-135b23dad17d","values":[{"x":0,"y":null},{"x":1,"y":null},{"x":2,"y":null},{"x":3,"y":null},{"x":4,"y":null},{"x":5,"y":null},{"x":6,"y":null},{"x":7,"y":null},{"x":8,"y":null},{"x":9,"y":null},{"x":10,"y":null},{"x":11,"y":null},{"x":12,"y":null},{"x":13,"y":null},{"x":14,"y":null},{"x":15,"y":null},{"x":16,"y":null},{"x":17,"y":null},{"x":18,"y":null},{"x":19,"y":null},{"x":20,"y":null},{"x":21,"y":null},{"x":22,"y":null},{"x":23,"y":null},{"x":24,"y":0.4065102082118356},{"x":25,"y":0.5829705132775649},{"x":26,"y":0.5424828340749585},{"x":27,"y":0.6904157962076432},{"x":28,"y":0.6098806906353936},{"x":29,"y":0.4213410256955127},{"x":30,"y":0.3403544477717194},{"x":31,"y":null},{"x":32,"y":null},{"x":33,"y":null},{"x":34,"y":-0.36104215129416983},{"x":35,"y":-0.3661858382784178},{"x":36,"y":null},{"x":37,"y":-0.3958153309494645},{"x":38,"y":-0.36137896233335876},{"x":39,"y":-0.3568073638735745},{"x":40,"y":-0.41935060521864764},{"x":41,"y":-0.5510464568685083},{"x":42,"y":-0.6393597931382412},{"x":43,"y":null},{"x":44,"y":null},{"x":45,"y":null},{"x":46,"y":null},{"x":47,"y":null},{"x":48,"y":null},{"x":49,"y":null},{"x":50,"y":null},{"x":51,"y":-0.37285593224355357},{"x":52,"y":null},{"x":53,"y":null},{"x":54,"y":null},{"x":55,"y":null},{"x":56,"y":null},{"x":57,"y":null},{"x":58,"y":null},{"x":59,"y":null},{"x":60,"y":null},{"x":61,"y":null},{"x":62,"y":null},{"x":63,"y":null},{"x":64,"y":null},{"x":65,"y":0.3600494150641053},{"x":66,"y":null},{"x":67,"y":null},{"x":68,"y":0.3040044722384758},{"x":69,"y":null},{"x":70,"y":null},{"x":71,"y":null},{"x":72,"y":null},{"x":73,"y":null},{"x":74,"y":null},{"x":75,"y":null},{"x":76,"y":-0.3096986715890115}]},{"name":"69d21ffe-1c9e-4207-aab3-a76552699cee","values":[{"x":0,"y":0.4181349608492159},{"x":1,"y":0.12812109989627524},{"x":2,"y":-0.06201007478421261},{"x":3,"y":0.06201007478421261},{"x":4,"y":-0.19891415188737466},{"x":5,"y":0.19891415188737466},{"x":6,"y":-0.06201007478421261},{"x":7,"y":-0.06611102511206263},{"x":8,"y":0.06611102511206263},{"x":9,"y":0.22784628084111613},{"x":10,"y":-0.29395730595317876},{"x":11,"y":0.18650941813442962},{"x":12,"y":-0.3334916084830749},{"x":13,"y":0.21309321546070792},{"x":14,"y":-0.06611102511206263},{"x":15,"y":-0.07079305199109942},{"x":16,"y":0.19891415188737466},{"x":17,"y":-0.12812109989627524},{"x":18,"y":0.0},{"x":19,"y":0.12812109989627524},{"x":20,"y":0.16583620605690352},{"x":21,"y":0.09701479485241882},{"x":22,"y":0.04519199419137365},{"x":23,"y":0.16275146059985768},{"x":24,"y":0.29113460362480925},{"x":25,"y":0.054611269781732696},{"x":26,"y":0.25642952894767634},{"x":27,"y":0.079043207340453},{"x":28,"y":-0.03874082831643055},{"x":29,"y":0.01955800889965653},{"x":30,"y":-0.12353348278482135},{"x":31,"y":-0.09174100901288806},{"x":32,"y":-0.1556266948553786},{"x":33,"y":-0.18439164477258485},{"x":34,"y":-0.03433038128374766},{"x":35,"y":0.03433038128374766},{"x":36,"y":-0.18481133222204338},{"x":37,"y":-0.04144540817539255},{"x":38,"y":-0.0884296732460198},{"x":39,"y":-0.14929630136245975},{"x":40,"y":-0.24167579944313783},{"x":41,"y":-0.22945841217288385},{"x":42,"y":0.41596783030731344},{"x":43,"y":-0.05838831823815438},{"x":44,"y":-0.12812109989627524},{"x":45,"y":0.06611102511206263},{"x":46,"y":0.06201007478421261},{"x":47,"y":-0.19891415188737466},{"x":48,"y":-0.15866536018178443},{"x":49,"y":-0.08989500411654815},{"x":50,"y":-0.09878154455978393},{"x":51,"y":0.27115277050057063},{"x":52,"y":-0.27115277050057063},{"x":53,"y":0.0},{"x":54,"y":0.18867654867633207},{"x":55,"y":-0.08989500411654815},{"x":56,"y":-0.09878154455978393},{"x":57,"y":0.0},{"x":58,"y":0.18867654867633207},{"x":59,"y":-0.08989500411654815},{"x":60,"y":0.08989500411654815},{"x":61,"y":-0.18867654867633207},{"x":62,"y":0.18867654867633207},{"x":63,"y":0.08247622182423855},{"x":64,"y":0.21309321546070792},{"x":65,"y":-0.13690407710316205},{"x":66,"y":0.19891415188737466},{"x":67,"y":0.05838831823815438},{"x":68,"y":-0.18650941813442962},{"x":69,"y":0.06611102511206263},{"x":70,"y":0.0},{"x":71,"y":0.06201007478421261},{"x":72,"y":0.0},{"x":73,"y":0.16583620605690352},{"x":74,"y":-0.10744788781874914},{"x":75,"y":-0.3334916084830749}]}],"marks":[{"type":"line","from":{"data":"ebae1f76-bb95-4346-b5b4-260a6cf2ee32"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"blue"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}},{"type":"symbol","from":{"data":"36c89f8c-98b1-4807-8782-135b23dad17d"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"red"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"line","from":{"data":"69d21ffe-1c9e-4207-aab3-a76552699cee"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"orange"},"strokeWidth":{"value":2},"strokeOpacity":{"value":0.5}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"ebae1f76-bb95-4346-b5b4-260a6cf2ee32\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"ebae1f76-bb95-4346-b5b4-260a6cf2ee32\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"ebae1f76-bb95-4346-b5b4-260a6cf2ee32\", :values ({:x 0, :y nil} {:x 1, :y nil} {:x 2, :y nil} {:x 3, :y nil} {:x 4, :y nil} {:x 5, :y nil} {:x 6, :y nil} {:x 7, :y nil} {:x 8, :y 0.036097226381168634} {:x 9, :y 0.02483740066380912} {:x 10, :y 0.22622104770098955} {:x 11, :y -0.10257690360407823} {:x 12, :y 0.09404433106285814} {:x 13, :y -0.22488388671607545} {:x 14, :y -1.8615082886538903E-4} {:x 15, :y -0.05585638158684604} {:x 16, :y -0.10438656777771127} {:x 17, :y 0.10431330818234064} {:x 18, :y -0.0828967160350834} {:x 19, :y -0.01699952066052104} {:x 20, :y 0.08323039542710195} {:x 21, :y 0.28837112989566493} {:x 22, :y 0.29196058972976235} {:x 23, :y 0.2898520554580486} {:x 24, :y 0.4065102082118356} {:x 25, :y 0.5829705132775649} {:x 26, :y 0.5424828340749585} {:x 27, :y 0.6904157962076432} {:x 28, :y 0.6098806906353936} {:x 29, :y 0.4213410256955127} {:x 30, :y 0.3403544477717194} {:x 31, :y 0.14116811695235998} {:x 32, :y -0.006111679538993095} {:x 33, :y -0.20936031978745118} {:x 34, :y -0.36104215129416983} {:x 35, :y -0.3661858382784178} {:x 36, :y -0.2718795389678222} {:x 37, :y -0.3958153309494645} {:x 38, :y -0.36137896233335876} {:x 39, :y -0.3568073638735745} {:x 40, :y -0.41935060521864764} {:x 41, :y -0.5510464568685083} {:x 42, :y -0.6393597931382412} {:x 43, :y -0.0897603219816816} {:x 44, :y -0.1359562580450976} {:x 45, :y -0.2058799099329835} {:x 46, :y -0.09163951718265692} {:x 47, :y 0.0035344983266660523} {:x 48, :y -0.17103879026645097} {:x 49, :y -0.2549499215026432} {:x 50, :y -0.2553582078782477} {:x 51, :y -0.37285593224355357} {:x 52, :y -0.017336041024689663} {:x 53, :y -0.2635264496491485} {:x 54, :y -0.22191274920218373} {:x 55, :y 7.427851262761243E-4} {:x 56, :y -0.05592851909881429} {:x 57, :y -0.11690472964395938} {:x 58, :y -0.07844190470132534} {:x 59, :y 0.142495818014203} {:x 60, :y -0.021390235702050772} {:x 61, :y 0.11827470155177258} {:x 62, :y -0.094056787434914} {:x 63, :y 0.08177644661562747} {:x 64, :y 0.16297925813058273} {:x 65, :y 0.3600494150641053} {:x 66, :y 0.1511354549481222} {:x 67, :y 0.28816784373309906} {:x 68, :y 0.3040044722384758} {:x 69, :y 0.04161228064250891} {:x 70, :y 0.1310555217388431} {:x 71, :y 0.0731897452783011} {:x 72, :y 0.10672465712276186} {:x 73, :y 0.0496286166590211} {:x 74, :y 0.22850779211252448} {:x 75, :y 0.04198608895455749} {:x 76, :y -0.3096986715890115})} {:name \"36c89f8c-98b1-4807-8782-135b23dad17d\", :values ({:x 0, :y nil} {:x 1, :y nil} {:x 2, :y nil} {:x 3, :y nil} {:x 4, :y nil} {:x 5, :y nil} {:x 6, :y nil} {:x 7, :y nil} {:x 8, :y nil} {:x 9, :y nil} {:x 10, :y nil} {:x 11, :y nil} {:x 12, :y nil} {:x 13, :y nil} {:x 14, :y nil} {:x 15, :y nil} {:x 16, :y nil} {:x 17, :y nil} {:x 18, :y nil} {:x 19, :y nil} {:x 20, :y nil} {:x 21, :y nil} {:x 22, :y nil} {:x 23, :y nil} {:x 24, :y 0.4065102082118356} {:x 25, :y 0.5829705132775649} {:x 26, :y 0.5424828340749585} {:x 27, :y 0.6904157962076432} {:x 28, :y 0.6098806906353936} {:x 29, :y 0.4213410256955127} {:x 30, :y 0.3403544477717194} {:x 31, :y nil} {:x 32, :y nil} {:x 33, :y nil} {:x 34, :y -0.36104215129416983} {:x 35, :y -0.3661858382784178} {:x 36, :y nil} {:x 37, :y -0.3958153309494645} {:x 38, :y -0.36137896233335876} {:x 39, :y -0.3568073638735745} {:x 40, :y -0.41935060521864764} {:x 41, :y -0.5510464568685083} {:x 42, :y -0.6393597931382412} {:x 43, :y nil} {:x 44, :y nil} {:x 45, :y nil} {:x 46, :y nil} {:x 47, :y nil} {:x 48, :y nil} {:x 49, :y nil} {:x 50, :y nil} {:x 51, :y -0.37285593224355357} {:x 52, :y nil} {:x 53, :y nil} {:x 54, :y nil} {:x 55, :y nil} {:x 56, :y nil} {:x 57, :y nil} {:x 58, :y nil} {:x 59, :y nil} {:x 60, :y nil} {:x 61, :y nil} {:x 62, :y nil} {:x 63, :y nil} {:x 64, :y nil} {:x 65, :y 0.3600494150641053} {:x 66, :y nil} {:x 67, :y nil} {:x 68, :y 0.3040044722384758} {:x 69, :y nil} {:x 70, :y nil} {:x 71, :y nil} {:x 72, :y nil} {:x 73, :y nil} {:x 74, :y nil} {:x 75, :y nil} {:x 76, :y -0.3096986715890115})} {:name \"69d21ffe-1c9e-4207-aab3-a76552699cee\", :values ({:x 0, :y 0.4181349608492159} {:x 1, :y 0.12812109989627524} {:x 2, :y -0.06201007478421261} {:x 3, :y 0.06201007478421261} {:x 4, :y -0.19891415188737466} {:x 5, :y 0.19891415188737466} {:x 6, :y -0.06201007478421261} {:x 7, :y -0.06611102511206263} {:x 8, :y 0.06611102511206263} {:x 9, :y 0.22784628084111613} {:x 10, :y -0.29395730595317876} {:x 11, :y 0.18650941813442962} {:x 12, :y -0.3334916084830749} {:x 13, :y 0.21309321546070792} {:x 14, :y -0.06611102511206263} {:x 15, :y -0.07079305199109942} {:x 16, :y 0.19891415188737466} {:x 17, :y -0.12812109989627524} {:x 18, :y 0.0} {:x 19, :y 0.12812109989627524} {:x 20, :y 0.16583620605690352} {:x 21, :y 0.09701479485241882} {:x 22, :y 0.04519199419137365} {:x 23, :y 0.16275146059985768} {:x 24, :y 0.29113460362480925} {:x 25, :y 0.054611269781732696} {:x 26, :y 0.25642952894767634} {:x 27, :y 0.079043207340453} {:x 28, :y -0.03874082831643055} {:x 29, :y 0.01955800889965653} {:x 30, :y -0.12353348278482135} {:x 31, :y -0.09174100901288806} {:x 32, :y -0.1556266948553786} {:x 33, :y -0.18439164477258485} {:x 34, :y -0.03433038128374766} {:x 35, :y 0.03433038128374766} {:x 36, :y -0.18481133222204338} {:x 37, :y -0.04144540817539255} {:x 38, :y -0.0884296732460198} {:x 39, :y -0.14929630136245975} {:x 40, :y -0.24167579944313783} {:x 41, :y -0.22945841217288385} {:x 42, :y 0.41596783030731344} {:x 43, :y -0.05838831823815438} {:x 44, :y -0.12812109989627524} {:x 45, :y 0.06611102511206263} {:x 46, :y 0.06201007478421261} {:x 47, :y -0.19891415188737466} {:x 48, :y -0.15866536018178443} {:x 49, :y -0.08989500411654815} {:x 50, :y -0.09878154455978393} {:x 51, :y 0.27115277050057063} {:x 52, :y -0.27115277050057063} {:x 53, :y 0.0} {:x 54, :y 0.18867654867633207} {:x 55, :y -0.08989500411654815} {:x 56, :y -0.09878154455978393} {:x 57, :y 0.0} {:x 58, :y 0.18867654867633207} {:x 59, :y -0.08989500411654815} {:x 60, :y 0.08989500411654815} {:x 61, :y -0.18867654867633207} {:x 62, :y 0.18867654867633207} {:x 63, :y 0.08247622182423855} {:x 64, :y 0.21309321546070792} {:x 65, :y -0.13690407710316205} {:x 66, :y 0.19891415188737466} {:x 67, :y 0.05838831823815438} {:x 68, :y -0.18650941813442962} {:x 69, :y 0.06611102511206263} {:x 70, :y 0.0} {:x 71, :y 0.06201007478421261} {:x 72, :y 0.0} {:x 73, :y 0.16583620605690352} {:x 74, :y -0.10744788781874914} {:x 75, :y -0.3334916084830749})}), :marks ({:type \"line\", :from {:data \"ebae1f76-bb95-4346-b5b4-260a6cf2ee32\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value :blue}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}} {:type \"symbol\", :from {:data \"36c89f8c-98b1-4807-8782-135b23dad17d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value :red}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"line\", :from {:data \"69d21ffe-1c9e-4207-aab3-a76552699cee\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value :orange}, :strokeWidth {:value 2}, :strokeOpacity {:value 0.5}}}})}}"}
;; <=

;; @@

;; @@
